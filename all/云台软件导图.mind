{"root":{"data":{"id":"d40rt1dpdnk0","created":1725785229243,"text":"云台软件架构导图"},"children":[{"data":{"id":"d40ruyrjylc0","created":1725785380278,"text":"系统状态","layout_mind_offset":{"x":-138,"y":143},"layout":null},"children":[{"data":{"id":"d40twrzo7wo0","created":1725791164480,"text":"电源状态","expandState":"expand","layout":null},"children":[{"data":{"id":"d40tyxju4sw0","created":1725791333311,"text":"工作","layout":null},"children":[]},{"data":{"id":"d40tz0c49ag0","created":1725791339375,"text":"待机","layout":null},"children":[]},{"data":{"id":"d40tz16hl940","created":1725791341211,"text":"关机","layout":null},"children":[]}]},{"data":{"id":"d40ufy7lbp40","created":1725792666939,"text":"异常状态","layout":null},"children":[]}]},{"data":{"id":"d40rvrvqaoo0","created":1725785443658,"text":"姿态控制","expandState":"expand","layout_mind_offset":{"x":535,"y":-124},"layout":null},"children":[{"data":{"id":"d40rtqctrxk0","created":1725785283609,"text":"姿态解算","expandState":"expand","layout":null},"children":[{"data":{"id":"d40rtza5fg00","created":1725785303039,"text":"通过imu、电机编码器来获取负载（相机）在空间中的绝对姿态和云台自身的相对姿态（四元数描述、欧拉角描述）。","layout":null},"children":[]}]},{"data":{"id":"d40rzqxuis80","created":1725785755065,"text":"电机控制","layout":null},"children":[{"data":{"id":"d40s4v1ehfc0","created":1725786155808,"text":"通过电机编码器，对电机进行自身的闭环控制（速度、位置双环PID串级控制），若编码器自身反馈的速度精度不足，则使用imu反馈的速度，但此方案存在解耦问题，理论上无解，老方案并非电机的速度环，而是通过电机来做的负载在空间中的速度闭环。","layout":null},"children":[]}]},{"data":{"id":"d40s95mpcyo0","created":1725786492321,"text":"控制模式","layout":null},"children":[{"data":{"id":"d40s9clo78o0","created":1725786507496,"text":"根据不同的参考系，控制负载（相机）在空间中的期望姿态，如：全锁定模式，负载要在空间中的姿态保持不变，只在空间中移动。","layout":null},"children":[]}]}]},{"data":{"id":"d40u15tt9c80","created":1725791508057,"text":"附件控制","layout":null},"children":[{"data":{"id":"d40u1dv9i880","created":1725791525559,"text":"附件状态获取","layout":null},"children":[{"data":{"id":"d40u1ql7t3s0","created":1725791553250,"text":"通过自身外设配置和板间串口交互，获得所有云台附件（包括：指示灯、摇杆、按键、AI模块、APP等）的原始状态值，通过软件抽象成的结构体保存该类信息。","layout":null},"children":[]}]},{"data":{"id":"d40ub0oono00","created":1725792280505,"text":"附件状态控制","layout":null},"children":[{"data":{"id":"d40uma08lso0","created":1725793162800,"text":"通过自身外设配置和板间串口交互，控制所有云台附件（包括：指示灯、AI模块）的状态。","layout":null},"children":[]}]}]},{"data":{"id":"d40uyw86kow0","created":1725794151540,"text":"文件树","layout":null},"children":[{"data":{"id":"d40uz0q7jog0","created":1725794161337,"text":"mcu驱动库","layout":null},"children":[{"data":{"id":"d40uz7ln74w0","created":1725794176298,"text":"由官方文件导入，选用成熟的芯片，几乎不会有需要二次修正优化的动作。","layout":null},"children":[]}]},{"data":{"id":"d40v09f9t3s0","created":1725794258631,"text":"主文件","layout":null},"children":[{"data":{"id":"d40v4gvd8ns0","created":1725794588298,"text":"main函数文件，初始中断文件，配置文件。完成软件的初始化部分，也是最先开始执行的位置","layout":null},"children":[]}]},{"data":{"id":"d40v5iwuee00","created":1725794671105,"text":"外设驱动","layout":null},"children":[{"data":{"id":"d40v6dvrfag0","created":1725794738520,"text":"根据硬件原理图编写的mcu外设初始化函数，和基础逻辑接口。","layout":null},"children":[]}]},{"data":{"id":"d40v5wkz4v40","created":1725794700863,"text":"算法库","layout":null},"children":[{"data":{"id":"d40v7rt385c0","created":1725794847198,"text":"核心算法实现，要求具备强复用性，不被功能耦合，包括各类滤波算法，控制算法，提供用于初始化的算法参数包和函数接口，测试稳定后，几乎不会有需要二次修正优化的动作，可以跨项目跨平台复用。","layout":null},"children":[]}]},{"data":{"id":"d40v62482a00","created":1725794712910,"text":"任务文件","layout":null},"children":[{"data":{"id":"d40va2ik5fs0","created":1725795027234,"text":"实现通过操作系统或中断函数调度的任务函数，内容包括对软件功能的具体实现。","layout":null},"children":[]}]}]}]},"template":"right","theme":"fresh-blue","version":"1.4.43"}